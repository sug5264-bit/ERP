# GitHub ì´ê´€ & AWS ë°°í¬ ê°€ì´ë“œ (ì´ˆë³´ììš©)

> ì´ ê°€ì´ë“œëŠ” í˜„ì¬ `sug5264-bit/ERP` ì €ì¥ì†Œë¥¼ ìƒˆ GitHub ê³„ì •ìœ¼ë¡œ ì´ê´€í•˜ê³ ,
> Vercel ëŒ€ì‹  AWS(Amplify + RDS)ë¡œ ë°°í¬í•˜ëŠ” ì „ì²´ ê³¼ì •ì„ ë‹¤ë£¹ë‹ˆë‹¤.

---

## ì‚¬ì „ ì¤€ë¹„ë¬¼

ì‹œì‘í•˜ê¸° ì „ì— ì•„ë˜ í•­ëª©ì„ ì¤€ë¹„í•´ì£¼ì„¸ìš”:

| í•­ëª© | ì„¤ëª… | ë¹„ìš© |
|------|------|------|
| ìƒˆ GitHub ê³„ì • | https://github.com ì—ì„œ íšŒì›ê°€ì… | ë¬´ë£Œ |
| AWS ê³„ì • | https://aws.amazon.com ì—ì„œ íšŒì›ê°€ì… | í”„ë¦¬ í‹°ì–´ 12ê°œì›” ë¬´ë£Œ |
| ì‹ ìš©ì¹´ë“œ | AWS ê°€ì… ì‹œ í•„ìš” (í”„ë¦¬ í‹°ì–´ ë‚´ ë¬´ë£Œ) | - |
| Git ì„¤ì¹˜ | ë¡œì»¬ PCì— Git ì„¤ì¹˜ | ë¬´ë£Œ |
| Node.js 20 | https://nodejs.org ì—ì„œ LTS ë²„ì „ ì„¤ì¹˜ | ë¬´ë£Œ |
| PostgreSQL í´ë¼ì´ì–¸íŠ¸ | DB ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œ í•„ìš” (ì„ íƒ) | ë¬´ë£Œ |

---

# PART 1: GitHub ìƒˆ ê³„ì •ìœ¼ë¡œ ì €ì¥ì†Œ ì´ê´€

## Step 1-1. ìƒˆ GitHub ê³„ì • ë§Œë“¤ê¸° (ì´ë¯¸ ìˆìœ¼ë©´ ê±´ë„ˆë›°ê¸°)

1. ë¸Œë¼ìš°ì €ì—ì„œ **https://github.com** ì ‘ì†
2. ìš°ì¸¡ ìƒë‹¨ **"Sign up"** í´ë¦­
3. ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸, ì‚¬ìš©ìëª… ì…ë ¥
4. ì´ë©”ì¼ ì¸ì¦ ì™„ë£Œ

## Step 1-2. ìƒˆ ê³„ì •ì—ì„œ ë¹ˆ ì €ì¥ì†Œ ë§Œë“¤ê¸°

1. ìƒˆ ê³„ì •ìœ¼ë¡œ GitHub ë¡œê·¸ì¸
2. ìš°ì¸¡ ìƒë‹¨ **"+"** ë²„íŠ¼ â†’ **"New repository"** í´ë¦­
3. ì•„ë˜ì™€ ê°™ì´ ì„¤ì •:

   ```
   Repository name: ERP
   Description:     ERP System (ì„ íƒì‚¬í•­)
   Public/Private:  Private (ê¶Œì¥)
   ```

4. **ì¤‘ìš”: ì•„ë˜ í•­ëª©ë“¤ì„ ëª¨ë‘ ì²´í¬ í•´ì œ** (ë¹ˆ ì €ì¥ì†Œì—¬ì•¼ í•©ë‹ˆë‹¤!)
   - [ ] Add a README file â†’ **ì²´í¬í•˜ì§€ ë§ˆì„¸ìš”**
   - [ ] Add .gitignore â†’ **ì²´í¬í•˜ì§€ ë§ˆì„¸ìš”**
   - [ ] Choose a license â†’ **ì²´í¬í•˜ì§€ ë§ˆì„¸ìš”**

5. **"Create repository"** í´ë¦­

> í™”ë©´ì— "Quick setup" í˜ì´ì§€ê°€ ë‚˜ì˜¤ë©´ ì„±ê³µì…ë‹ˆë‹¤.
> ì´ í˜ì´ì§€ì— ë³´ì´ëŠ” URLì„ ë©”ëª¨í•´ë‘ì„¸ìš”:
> `https://github.com/[ìƒˆ_ì•„ì´ë””]/ERP.git`

## Step 1-3. ë¡œì»¬ PCì—ì„œ ì €ì¥ì†Œ ì´ê´€í•˜ê¸°

í„°ë¯¸ë„(ë˜ëŠ” ëª…ë ¹ í”„ë¡¬í”„íŠ¸)ì„ ì—´ê³ , ì•„ë˜ ëª…ë ¹ì–´ë¥¼ **í•œ ì¤„ì”©** ì‹¤í–‰í•©ë‹ˆë‹¤.

```bash
# ---- 1ë‹¨ê³„: í˜„ì¬ ì €ì¥ì†Œ í´ë¡  (ì•„ì§ ì—†ë‹¤ë©´) ----
git clone https://github.com/sug5264-bit/ERP.git
cd ERP

# ---- 2ë‹¨ê³„: ê¸°ì¡´ remote ì´ë¦„ ë³€ê²½ ----
# "origin"ì„ "old-origin"ìœ¼ë¡œ ë°”ê¿‰ë‹ˆë‹¤ (ë°±ì—… ëª©ì )
git remote rename origin old-origin

# ---- 3ë‹¨ê³„: ìƒˆ ì €ì¥ì†Œë¥¼ originìœ¼ë¡œ ì¶”ê°€ ----
# [ìƒˆ_ì•„ì´ë””] ë¶€ë¶„ì„ ì‹¤ì œ GitHub ì•„ì´ë””ë¡œ ë°”ê¿”ì£¼ì„¸ìš”!
git remote add origin https://github.com/[ìƒˆ_ì•„ì´ë””]/ERP.git

# ---- 4ë‹¨ê³„: ëª¨ë“  ì½”ë“œë¥¼ ìƒˆ ì €ì¥ì†Œë¡œ Push ----
git push -u origin --all      # ëª¨ë“  ë¸Œëœì¹˜ Push
git push origin --tags         # ëª¨ë“  íƒœê·¸ Push

# ---- 5ë‹¨ê³„: í™•ì¸ ----
git remote -v
# ì•„ë˜ì™€ ê°™ì´ ì¶œë ¥ë˜ë©´ ì„±ê³µ:
# origin   https://github.com/[ìƒˆ_ì•„ì´ë””]/ERP.git (fetch)
# origin   https://github.com/[ìƒˆ_ì•„ì´ë””]/ERP.git (push)

# ---- 6ë‹¨ê³„: (ì„ íƒ) ì´ì „ remote ì œê±° ----
git remote remove old-origin
```

### ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ

**"Authentication failed" ì˜¤ë¥˜:**
```bash
# GitHubì—ì„œ 2021ë…„ë¶€í„° ë¹„ë°€ë²ˆí˜¸ ëŒ€ì‹  Personal Access Tokenì´ í•„ìš”í•©ë‹ˆë‹¤.
# 1. GitHub â†’ Settings â†’ Developer settings â†’ Personal access tokens â†’ Tokens (classic)
# 2. "Generate new token" í´ë¦­
# 3. ê¶Œí•œ: "repo" ì „ì²´ ì²´í¬
# 4. ìƒì„±ëœ í† í°ì„ ë¹„ë°€ë²ˆí˜¸ ëŒ€ì‹  ì…ë ¥
```

**"Repository not empty" ì˜¤ë¥˜:**
```bash
# Step 1-2ì—ì„œ README ë“±ì„ ì²´í¬í•œ ê²½ìš° ë°œìƒí•©ë‹ˆë‹¤.
# ì €ì¥ì†Œë¥¼ ì‚­ì œí•˜ê³  ë‹¤ì‹œ ë§Œë“¤ê±°ë‚˜, ì•„ë˜ ëª…ë ¹ì–´ë¡œ ê°•ì œ Push:
git push -u origin --all --force
```

## Step 1-4. ì´ê´€ í™•ì¸

1. ë¸Œë¼ìš°ì €ì—ì„œ `https://github.com/[ìƒˆ_ì•„ì´ë””]/ERP` ì ‘ì†
2. ëª¨ë“  íŒŒì¼ê³¼ ì»¤ë°‹ íˆìŠ¤í† ë¦¬ê°€ ë³´ì´ë©´ ì„±ê³µ!
3. ë¸Œëœì¹˜ ëª©ë¡ë„ í™•ì¸: ì¢Œì¸¡ ìƒë‹¨ "main" ë“œë¡­ë‹¤ìš´ í´ë¦­

---

# PART 2: AWS ê³„ì • ì„¤ì •

## Step 2-1. AWS ê³„ì • ë§Œë“¤ê¸° (ì´ë¯¸ ìˆìœ¼ë©´ ê±´ë„ˆë›°ê¸°)

1. **https://aws.amazon.com** ì ‘ì†
2. **"AWS ê³„ì • ìƒì„±"** í´ë¦­
3. ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸, ê³„ì • ì´ë¦„ ì…ë ¥
4. ì—°ë½ì²˜ ì •ë³´ ì…ë ¥
5. **ì‹ ìš©ì¹´ë“œ ì •ë³´ ì…ë ¥** (í”„ë¦¬ í‹°ì–´ ë²”ìœ„ ë‚´ì—ì„œëŠ” ê³¼ê¸ˆë˜ì§€ ì•ŠìŒ)
6. ë³¸ì¸ í™•ì¸ (ì „í™” ë˜ëŠ” SMS)
7. ì§€ì› í”Œëœ: **"ê¸°ë³¸ ì§€ì› - ë¬´ë£Œ"** ì„ íƒ

> AWS í”„ë¦¬ í‹°ì–´ (12ê°œì›” ë¬´ë£Œ):
> - RDS: db.t3.micro 750ì‹œê°„/ì›”
> - Amplify: ë¹Œë“œ 1000ë¶„/ì›”, í˜¸ìŠ¤íŒ… 15GB/ì›”

## Step 2-2. AWS ë¦¬ì „ ì„¤ì •

1. AWS Console ë¡œê·¸ì¸ í›„
2. **ìš°ì¸¡ ìƒë‹¨**ì— ë¦¬ì „ì´ í‘œì‹œë¨ (ì˜ˆ: "ë²„ì§€ë‹ˆì•„ ë¶ë¶€")
3. í´ë¦­ â†’ **"ì•„ì‹œì•„ íƒœí‰ì–‘ (ì„œìš¸) ap-northeast-2"** ì„ íƒ

> ë°˜ë“œì‹œ ì„œìš¸ ë¦¬ì „ì„ ì„ íƒí•˜ì„¸ìš”! í•œêµ­ ì‚¬ìš©ìì—ê²Œ ê°€ì¥ ë¹ ë¦…ë‹ˆë‹¤.

---

# PART 3: AWS RDS (ë°ì´í„°ë² ì´ìŠ¤) ìƒì„±

## Step 3-1. RDS ë°ì´í„°ë² ì´ìŠ¤ ë§Œë“¤ê¸°

1. AWS Console ìƒë‹¨ ê²€ìƒ‰ì°½ì— **"RDS"** ì…ë ¥ â†’ í´ë¦­
2. ì¢Œì¸¡ ë©”ë‰´ì—ì„œ **"ë°ì´í„°ë² ì´ìŠ¤"** í´ë¦­
3. **"ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±"** ë²„íŠ¼ í´ë¦­

### ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ì„¤ì •

ì•„ë˜ í•­ëª©ë“¤ì„ ìˆœì„œëŒ€ë¡œ ì„ íƒí•©ë‹ˆë‹¤:

**ì—”ì§„ ì˜µì…˜:**
```
ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ë°©ì‹: "í‘œì¤€ ìƒì„±" ì„ íƒ
ì—”ì§„ ìœ í˜•:            "PostgreSQL" ì„ íƒ
ì—”ì§„ ë²„ì „:            "PostgreSQL 16.x" ì„ íƒ (ìµœì‹  16 ë²„ì „)
```

**í…œí”Œë¦¿:**
```
"í”„ë¦¬ í‹°ì–´" ì„ íƒ (ê°œë°œ/í…ŒìŠ¤íŠ¸ìš©, ë¬´ë£Œ)
```

> í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” "í”„ë¡œë•ì…˜"ì„ ì„ íƒí•˜ì„¸ìš” (ìœ ë£Œ).

**ì„¤ì •:**
```
DB ì¸ìŠ¤í„´ìŠ¤ ì‹ë³„ì:  erp-database
ë§ˆìŠ¤í„° ì‚¬ìš©ì ì´ë¦„:   erp_admin
ë§ˆìŠ¤í„° ì•”í˜¸:         [ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥]
ì•”í˜¸ í™•ì¸:          [ê°™ì€ ë¹„ë°€ë²ˆí˜¸ ë‹¤ì‹œ ì…ë ¥]
```

> ë¹„ë°€ë²ˆí˜¸ë¥¼ ê¼­ ë©”ëª¨í•´ë‘ì„¸ìš”! ë‚˜ì¤‘ì— ë‹¤ì‹œ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

**ì¸ìŠ¤í„´ìŠ¤ êµ¬ì„±:**
```
DB ì¸ìŠ¤í„´ìŠ¤ í´ë˜ìŠ¤:  db.t3.micro (í”„ë¦¬ í‹°ì–´)
```

**ìŠ¤í† ë¦¬ì§€:**
```
ìŠ¤í† ë¦¬ì§€ ìœ í˜•:       ë²”ìš© SSD (gp3)
í• ë‹¹ëœ ìŠ¤í† ë¦¬ì§€:     20 GiB (í”„ë¦¬ í‹°ì–´ ìµœëŒ€)
ìŠ¤í† ë¦¬ì§€ ìë™ ì¡°ì •:  ì²´í¬ í•´ì œ (ë¹„ìš© ë°©ì§€)
```

**ì—°ê²°:**
```
ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤:               "EC2 ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤ì— ì—°ê²° ì•ˆ í•¨" ì„ íƒ
ë„¤íŠ¸ì›Œí¬ ìœ í˜•:               IPv4
VPC:                        ê¸°ë³¸ VPC
DB ì„œë¸Œë„· ê·¸ë£¹:              default
í¼ë¸”ë¦­ ì•¡ì„¸ìŠ¤:               "ì˜ˆ" â† ì¤‘ìš”! Amplifyì—ì„œ ì ‘ê·¼í•˜ë ¤ë©´ í•„ìš”
VPC ë³´ì•ˆ ê·¸ë£¹:               "ìƒˆë¡œ ìƒì„±" ì„ íƒ
ìƒˆ VPC ë³´ì•ˆ ê·¸ë£¹ ì´ë¦„:       erp-database-sg
ê°€ìš© ì˜ì—­:                   ê¸°ë³¸ ì„¤ì • ì—†ìŒ
```

**ë°ì´í„°ë² ì´ìŠ¤ ì¸ì¦:**
```
"ì•”í˜¸ ì¸ì¦" ì„ íƒ
```

**ì¶”ê°€ êµ¬ì„± (í•˜ë‹¨ í¼ì¹˜ê¸°):**
```
ì´ˆê¸° ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„:  erp_database    â† ë°˜ë“œì‹œ ì…ë ¥!
ìë™ ë°±ì—…:              í™œì„±í™” (ê¸°ë³¸ê°’)
ë°±ì—… ë³´ì¡´ ê¸°ê°„:         7ì¼
ì•”í˜¸í™”:                í™œì„±í™” (ê¸°ë³¸ê°’)
```

4. **"ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±"** í´ë¦­

> ë°ì´í„°ë² ì´ìŠ¤ê°€ ìƒì„±ë˜ëŠ” ë° 5~10ë¶„ ì •ë„ ê±¸ë¦½ë‹ˆë‹¤.
> ìƒíƒœê°€ "ì‚¬ìš© ê°€ëŠ¥"ìœ¼ë¡œ ë°”ë€” ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì„¸ìš”.

## Step 3-2. ë³´ì•ˆ ê·¸ë£¹ ì„¤ì • (ì™¸ë¶€ ì ‘ê·¼ í—ˆìš©)

ë°ì´í„°ë² ì´ìŠ¤ê°€ ìƒì„±ë˜ë©´ ë³´ì•ˆ ê·¸ë£¹ì„ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

1. ìƒì„±ëœ ë°ì´í„°ë² ì´ìŠ¤ **"erp-database"** í´ë¦­
2. **"ì—°ê²° & ë³´ì•ˆ"** íƒ­ì—ì„œ:
   - **"ì—”ë“œí¬ì¸íŠ¸"** ë¥¼ ë©”ëª¨ (ì˜ˆ: `erp-database.abc123.ap-northeast-2.rds.amazonaws.com`)
   - **"VPC ë³´ì•ˆ ê·¸ë£¹"** ì•„ë˜ ë³´ì•ˆ ê·¸ë£¹ ë§í¬ í´ë¦­

3. ë³´ì•ˆ ê·¸ë£¹ í™”ë©´ì—ì„œ:
   - **"ì¸ë°”ìš´ë“œ ê·œì¹™"** íƒ­ â†’ **"ì¸ë°”ìš´ë“œ ê·œì¹™ í¸ì§‘"** í´ë¦­
   - ê·œì¹™ ì¶”ê°€:
     ```
     ìœ í˜•:   PostgreSQL
     í”„ë¡œí† ì½œ: TCP
     í¬íŠ¸:   5432
     ì†ŒìŠ¤:   0.0.0.0/0 (ëª¨ë“  ê³³ì—ì„œ ì ‘ê·¼ - ê°œë°œ ë‹¨ê³„)
     ```
   - **"ê·œì¹™ ì €ì¥"** í´ë¦­

> í”„ë¡œë•ì…˜ì—ì„œëŠ” ì†ŒìŠ¤ë¥¼ `0.0.0.0/0` ëŒ€ì‹  íŠ¹ì • IPë¡œ ì œí•œí•˜ì„¸ìš”.
> ë‚˜ì¤‘ì— Amplify ë°°í¬ í›„ ë³´ì•ˆ ê·¸ë£¹ì„ ë” ì—„ê²©í•˜ê²Œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Step 3-3. RDS ì—°ê²° ì •ë³´ ì •ë¦¬

ì•„ë˜ í˜•ì‹ìœ¼ë¡œ ì—°ê²° ì •ë³´ë¥¼ ë©”ëª¨í•´ë‘ì„¸ìš”:

```
ì—”ë“œí¬ì¸íŠ¸: erp-database.abc123.ap-northeast-2.rds.amazonaws.com
í¬íŠ¸:       5432
ì‚¬ìš©ì:     erp_admin
ë¹„ë°€ë²ˆí˜¸:   [ì„¤ì •í•œ ë¹„ë°€ë²ˆí˜¸]
DB ì´ë¦„:    erp_database

DATABASE_URL: postgresql://erp_admin:[ë¹„ë°€ë²ˆí˜¸]@erp-database.abc123.ap-northeast-2.rds.amazonaws.com:5432/erp_database?sslmode=require
```

## Step 3-4. ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ìƒì„± (Prisma)

ë¡œì»¬ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤.

```bash
# ERP í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™
cd ERP

# .env íŒŒì¼ ìƒì„± (ì—†ìœ¼ë©´)
# .env.exampleì„ ë³µì‚¬í•´ì„œ ë§Œë“¤ì–´ë„ ë©ë‹ˆë‹¤
cp .env.example .env
```

`.env` íŒŒì¼ì„ í…ìŠ¤íŠ¸ í¸ì§‘ê¸°ë¡œ ì—´ì–´ì„œ ì•„ë˜ ë‚´ìš©ìœ¼ë¡œ ìˆ˜ì •:

```env
DATABASE_URL="postgresql://erp_admin:[ë¹„ë°€ë²ˆí˜¸]@[RDS_ì—”ë“œí¬ì¸íŠ¸]:5432/erp_database?sslmode=require"
DIRECT_URL="postgresql://erp_admin:[ë¹„ë°€ë²ˆí˜¸]@[RDS_ì—”ë“œí¬ì¸íŠ¸]:5432/erp_database?sslmode=require"
AUTH_SECRET="ë‚˜ì¤‘ì—_ì„¤ì •"
AUTH_URL="http://localhost:3000"
NEXTAUTH_URL="http://localhost:3000"
```

> `[ë¹„ë°€ë²ˆí˜¸]`ì™€ `[RDS_ì—”ë“œí¬ì¸íŠ¸]`ë¥¼ ì‹¤ì œ ê°’ìœ¼ë¡œ ë°”ê¿”ì£¼ì„¸ìš”!

```bash
# íŒ¨í‚¤ì§€ ì„¤ì¹˜
npm install

# ë°ì´í„°ë² ì´ìŠ¤ì— í…Œì´ë¸” ìƒì„±
npx prisma db push

# ì„±ê³µí•˜ë©´ ì´ëŸ° ë©”ì‹œì§€ê°€ ë‚˜ì˜µë‹ˆë‹¤:
# ğŸš€ Your database is now in sync with your Prisma schema.

# ì´ˆê¸° ë°ì´í„° ì…ë ¥ (ê´€ë¦¬ì ê³„ì • ë“±)
npx tsx prisma/seed.ts
```

### ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ (ê¸°ì¡´ Neon DBì— ë°ì´í„°ê°€ ìˆëŠ” ê²½ìš°)

ê¸°ì¡´ Neonì— ì‹¤ì œ ì‚¬ìš© ì¤‘ì¸ ë°ì´í„°ê°€ ìˆë‹¤ë©´:

```bash
# 1. ë¨¼ì € pg_dump ì„¤ì¹˜ í™•ì¸
pg_dump --version
# ì„¤ì¹˜ ì•ˆ ëìœ¼ë©´:
# Mac: brew install postgresql
# Ubuntu: sudo apt install postgresql-client
# Windows: PostgreSQL ì„¤ì¹˜ ì‹œ í¬í•¨

# 2. Neonì—ì„œ ë°ì´í„° ë°±ì—… (í•œ ì¤„ë¡œ ì…ë ¥)
pg_dump "postgresql://[Neonìœ ì €]:[Neonë¹„ë°€ë²ˆí˜¸]@[Neonì£¼ì†Œ]/neondb?sslmode=require" --format=custom --no-owner --no-acl -f erp_backup.dump

# 3. RDSì— ë³µì› (í•œ ì¤„ë¡œ ì…ë ¥)
pg_restore --host=[RDS_ì—”ë“œí¬ì¸íŠ¸] --port=5432 --username=erp_admin --dbname=erp_database --no-owner --no-acl erp_backup.dump
# ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í”„ë¡¬í”„íŠ¸ê°€ ë‚˜ì˜¤ë©´ RDS ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
```

---

# PART 4: AWS Amplify ë°°í¬

## Step 4-1. Amplify ì•± ë§Œë“¤ê¸°

1. AWS Console ìƒë‹¨ ê²€ìƒ‰ì°½ì— **"Amplify"** ì…ë ¥ â†’ í´ë¦­
2. **"ìƒˆ ì•± ë§Œë“¤ê¸°"** í´ë¦­ (ë˜ëŠ” "Create new app")
3. **"GitHub"** ì„ íƒ â†’ **"ë‹¤ìŒ"** í´ë¦­

## Step 4-2. GitHub ì—°ê²°

1. GitHub ë¡œê·¸ì¸ í™”ë©´ì´ ë‚˜íƒ€ë‚¨
2. **ìƒˆ GitHub ê³„ì •**ìœ¼ë¡œ ë¡œê·¸ì¸
3. **"Authorize AWS Amplify"** í´ë¦­ (ê¶Œí•œ í—ˆìš©)
4. ì €ì¥ì†Œ ëª©ë¡ì—ì„œ **"ERP"** ì„ íƒ
5. ë¸Œëœì¹˜: **"main"** ì„ íƒ
6. **"ë‹¤ìŒ"** í´ë¦­

## Step 4-3. ë¹Œë“œ ì„¤ì •

1. ì•± ì´ë¦„: `erp-system` (ì›í•˜ëŠ” ì´ë¦„)
2. ë¹Œë“œ ì„¤ì •:
   - **"amplify.yml íŒŒì¼ ìë™ ê°ì§€"** ë¡œ í‘œì‹œë¨
   - í”„ë¡œì íŠ¸ì— ì´ë¯¸ `amplify.yml`ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ìë™ìœ¼ë¡œ ì¸ì‹
3. ì•„ë˜ì™€ ê°™ì€ ë¹Œë“œ ìŠ¤í™ì´ ë³´ì´ë©´ ì •ìƒ:
   ```yaml
   version: 1
   frontend:
     phases:
       preBuild:
         commands:
           - npm ci
           - npx prisma generate
       build:
         commands:
           - npm run build
     artifacts:
       baseDirectory: .next
       files:
         - '**/*'
     cache:
       paths:
         - node_modules/**/*
         - .next/cache/**/*
   ```
4. **"ë‹¤ìŒ"** í´ë¦­

## Step 4-4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ë§¤ìš° ì¤‘ìš”!)

ë°°í¬ ì „ì— í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

1. Amplify ì•± í™”ë©´ â†’ ì¢Œì¸¡ ë©”ë‰´ **"í˜¸ìŠ¤íŒ…" â†’ "í™˜ê²½ ë³€ìˆ˜"** í´ë¦­
2. **"ë³€ìˆ˜ ê´€ë¦¬"** í´ë¦­
3. ì•„ë˜ 5ê°œ ë³€ìˆ˜ë¥¼ í•˜ë‚˜ì”© ì¶”ê°€:

| ë³€ìˆ˜ ì´ë¦„ | ê°’ | ì„¤ëª… |
|-----------|-----|------|
| `DATABASE_URL` | `postgresql://erp_admin:[ë¹„ë°€ë²ˆí˜¸]@[RDSì—”ë“œí¬ì¸íŠ¸]:5432/erp_database?sslmode=require` | RDS ì—°ê²° URL |
| `DIRECT_URL` | `postgresql://erp_admin:[ë¹„ë°€ë²ˆí˜¸]@[RDSì—”ë“œí¬ì¸íŠ¸]:5432/erp_database?sslmode=require` | RDS ì§ì ‘ ì—°ê²° URL (ìœ„ì™€ ë™ì¼) |
| `AUTH_SECRET` | (ì•„ë˜ ì°¸ê³ ) | NextAuth ì•”í˜¸í™” í‚¤ |
| `AUTH_URL` | `https://[ì•±ID].amplifyapp.com` | ì•± URL |
| `NEXTAUTH_URL` | `https://[ì•±ID].amplifyapp.com` | ì•± URL (ìœ„ì™€ ë™ì¼) |

**AUTH_SECRET ìƒì„± ë°©ë²•:**

í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ëœë¤ í‚¤ê°€ ìƒì„±ë©ë‹ˆë‹¤:
```bash
openssl rand -base64 32
# ì¶œë ¥ ì˜ˆì‹œ: K7gN3xP2mQ8vR5tY1wB4nJ6hC9eF0dA3sL8kU2iM7oX=
# ì´ ê°’ì„ AUTH_SECRETì— ë„£ìœ¼ì„¸ìš”
```

> `openssl`ì´ ì—†ìœ¼ë©´ ì•„ë¬´ ê¸´ ëœë¤ ë¬¸ìì—´ì„ ì‚¬ìš©í•´ë„ ë©ë‹ˆë‹¤ (32ì ì´ìƒ ê¶Œì¥).

**AUTH_URL / NEXTAUTH_URL ê°’:**
- ì²˜ìŒì—ëŠ” Amplifyê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ URLì„ ì‚¬ìš©í•©ë‹ˆë‹¤
- ì•± ë°°í¬ í›„ Amplify ì½˜ì†”ì—ì„œ í™•ì¸ ê°€ëŠ¥ (ì˜ˆ: `https://main.d1abc2def3.amplifyapp.com`)
- ì²˜ìŒì— ì„ì‹œê°’ì„ ë„£ê³ , ì²« ë°°í¬ í›„ ì‹¤ì œ URLë¡œ ìˆ˜ì •í•´ë„ ë©ë‹ˆë‹¤

4. **"ì €ì¥"** í´ë¦­

## Step 4-5. ì²« ë°°í¬ ì‹œì‘

1. Amplify ì•± í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°
2. **"ì €ì¥ ë° ë°°í¬"** (ë˜ëŠ” "Save and deploy") í´ë¦­
3. ë¹Œë“œê°€ ì‹œì‘ë©ë‹ˆë‹¤

### ë¹Œë“œ ì§„í–‰ ìƒíƒœ:

```
âœ… í”„ë¡œë¹„ì €ë‹  (Provision)    â†’ ì„œë²„ ì¤€ë¹„ ì¤‘
âœ… ë¹Œë“œ       (Build)        â†’ npm install + next build
âœ… ë°°í¬       (Deploy)       â†’ ë¹Œë“œ ê²°ê³¼ë¬¼ ë°°í¬
âœ… í™•ì¸       (Verify)       â†’ ë°°í¬ í™•ì¸
```

> ì²« ë¹Œë“œëŠ” 5~15ë¶„ ì •ë„ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> ê° ë‹¨ê³„ë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ ë¡œê·¸ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Step 4-6. ë°°í¬ í™•ì¸

1. ëª¨ë“  ë‹¨ê³„ê°€ ë…¹ìƒ‰ ì²´í¬(âœ…)ê°€ ë˜ë©´ ë°°í¬ ì„±ê³µ!
2. í™”ë©´ì— í‘œì‹œëœ URL í´ë¦­ (ì˜ˆ: `https://main.d1abc2def3.amplifyapp.com`)
3. ERP ë¡œê·¸ì¸ í™”ë©´ì´ ë‚˜íƒ€ë‚˜ë©´ ì„±ê³µ!

### ë¹Œë“œ ì‹¤íŒ¨ ì‹œ í™•ì¸ì‚¬í•­

**"Prisma Client ì—ëŸ¬":**
- í™˜ê²½ ë³€ìˆ˜ `DATABASE_URL`ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
- RDS ë³´ì•ˆ ê·¸ë£¹ì—ì„œ 5432 í¬íŠ¸ê°€ ì—´ë ¤ìˆëŠ”ì§€ í™•ì¸

**"Module not found" ì—ëŸ¬:**
- Amplify ë¹Œë“œ ë¡œê·¸ì—ì„œ ì–´ë–¤ ëª¨ë“ˆì´ ì—†ëŠ”ì§€ í™•ì¸
- `package.json`ì— í•´ë‹¹ íŒ¨í‚¤ì§€ê°€ ìˆëŠ”ì§€ í™•ì¸

**"AUTH_SECRET" ì—ëŸ¬:**
- í™˜ê²½ ë³€ìˆ˜ì— `AUTH_SECRET`ì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

**ë¹Œë“œ ë¡œê·¸ í™•ì¸ ë°©ë²•:**
1. Amplify ì½˜ì†” â†’ ì•± ì„ íƒ â†’ ë°°í¬ í•­ëª© í´ë¦­
2. "ë¹Œë“œ" ë‹¨ê³„ í´ë¦­ â†’ í•˜ë‹¨ì— ë¡œê·¸ê°€ í‘œì‹œë¨

## Step 4-7. ë°°í¬ í›„ AUTH_URL ì—…ë°ì´íŠ¸

ì²« ë°°í¬ê°€ ì„±ê³µí•˜ë©´:

1. ë°°í¬ëœ ì•±ì˜ ì‹¤ì œ URLì„ í™•ì¸ (ì˜ˆ: `https://main.d1abc2def3.amplifyapp.com`)
2. Amplify ì½˜ì†” â†’ í™˜ê²½ ë³€ìˆ˜ì—ì„œ:
   - `AUTH_URL` ê°’ì„ ì‹¤ì œ URLë¡œ ìˆ˜ì •
   - `NEXTAUTH_URL` ê°’ì„ ì‹¤ì œ URLë¡œ ìˆ˜ì •
3. ì €ì¥ í›„ **ì¬ë°°í¬** (Amplifyì—ì„œ "ì¬ë°°í¬" ë²„íŠ¼ í´ë¦­)

---

# PART 5: ìë™ ë°°í¬ í™•ì¸

## GitHubì— Pushí•˜ë©´ ìë™ ë°°í¬

Amplifyë¥¼ GitHubì™€ ì—°ê²°í–ˆìœ¼ë¯€ë¡œ, ì´ì œë¶€í„°ëŠ”:

1. ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³ 
2. `git push origin main`ì„ í•˜ë©´
3. **ìë™ìœ¼ë¡œ ë¹Œë“œ & ë°°í¬**ê°€ ì‹œì‘ë©ë‹ˆë‹¤!

```bash
# ì˜ˆì‹œ: ì½”ë“œ ìˆ˜ì • í›„ Push
git add .
git commit -m "fix: ë²„ê·¸ ìˆ˜ì •"
git push origin main
# â†’ Amplifyì—ì„œ ìë™ìœ¼ë¡œ ë¹Œë“œ ì‹œì‘!
```

## GitHub Actions CIë„ ë™ì‹œì— ì‹¤í–‰

`.github/workflows/ci.yml` íŒŒì¼ ë•ë¶„ì—:
- Pull Requestë¥¼ ë§Œë“¤ë©´ ìë™ìœ¼ë¡œ **lint + build í…ŒìŠ¤íŠ¸**ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤
- main ë¸Œëœì¹˜ì— Pushí•˜ë©´ CI í…ŒìŠ¤íŠ¸ + Amplify ë°°í¬ê°€ ë™ì‹œì— ì§„í–‰ë©ë‹ˆë‹¤

### GitHub Actionsì— í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (CIìš©)

GitHub Actionsê°€ ì •ìƒ ì‘ë™í•˜ë ¤ë©´ GitHubì—ë„ í™˜ê²½ ë³€ìˆ˜(Secrets)ë¥¼ ë“±ë¡í•´ì•¼ í•©ë‹ˆë‹¤.

1. GitHub ì €ì¥ì†Œ â†’ **"Settings"** íƒ­
2. ì¢Œì¸¡ ë©”ë‰´ â†’ **"Secrets and variables"** â†’ **"Actions"**
3. **"New repository secret"** í´ë¦­
4. ì•„ë˜ ê°’ë“¤ì„ í•˜ë‚˜ì”© ì¶”ê°€:

| Name | Value |
|------|-------|
| `DATABASE_URL` | RDS ì—°ê²° URL |
| `DIRECT_URL` | RDS ì—°ê²° URL |
| `AUTH_SECRET` | ìƒì„±í•œ ì‹œí¬ë¦¿ í‚¤ |
| `AUTH_URL` | Amplify ì•± URL |
| `NEXTAUTH_URL` | Amplify ì•± URL |

---

# PART 6: Vercel ì •ë¦¬

AWS ë°°í¬ê°€ ì •ìƒ ì‘ë™í•˜ëŠ” ê²ƒì„ í™•ì¸í•œ í›„ì— ì§„í–‰í•©ë‹ˆë‹¤.

## Step 6-1. Vercel í”„ë¡œì íŠ¸ ì‚­ì œ

1. **https://vercel.com** ì ‘ì† â†’ ë¡œê·¸ì¸
2. í•´ë‹¹ í”„ë¡œì íŠ¸ í´ë¦­
3. **"Settings"** íƒ­
4. ë§¨ ì•„ë˜ ìŠ¤í¬ë¡¤ â†’ **"Delete Project"** ì˜ì—­
5. í”„ë¡œì íŠ¸ ì´ë¦„ ì…ë ¥ í›„ ì‚­ì œ

## Step 6-2. ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì‚¬ìš© ì¤‘ì´ì—ˆë‹¤ë©´

ê¸°ì¡´ì— ì»¤ìŠ¤í…€ ë„ë©”ì¸ì„ Vercelì— ì—°ê²°í•´ì„œ ì‚¬ìš©í•˜ê³  ìˆì—ˆë‹¤ë©´:

1. DNS ì„¤ì •ìœ¼ë¡œ ì´ë™ (ë„ë©”ì¸ êµ¬ë§¤í•œ ê³³: ê°€ë¹„ì•„, Route 53 ë“±)
2. ê¸°ì¡´ Vercel CNAME ë ˆì½”ë“œ ì‚­ì œ
3. Amplifyì—ì„œ ì œê³µí•˜ëŠ” CNAME ê°’ìœ¼ë¡œ ë³€ê²½:
   - Amplify ì½˜ì†” â†’ "ë„ë©”ì¸ ê´€ë¦¬" â†’ "ë„ë©”ì¸ ì¶”ê°€"ì—ì„œ í™•ì¸ ê°€ëŠ¥

## Step 6-3. (ì„ íƒ) vercel.json ì‚­ì œ

í”„ë¡œì íŠ¸ì—ì„œ ë” ì´ìƒ í•„ìš” ì—†ëŠ” Vercel ê´€ë ¨ íŒŒì¼ì„ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
# vercel.json ì‚­ì œ
git rm vercel.json
git rm .vercelignore

git commit -m "chore: Vercel ê´€ë ¨ ì„¤ì • íŒŒì¼ ì œê±°"
git push origin main
```

> ë³´ì•ˆ í—¤ë” ì„¤ì •ì€ `next.config.ts`ì— ì´ë¯¸ í¬í•¨ë˜ì–´ ìˆìœ¼ë¯€ë¡œ
> `vercel.json`ì„ ì‚­ì œí•´ë„ ë³´ì•ˆì— ì˜í–¥ ì—†ìŠµë‹ˆë‹¤.

---

# PART 7: ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì—°ê²° (ì„ íƒ)

ìì‹ ë§Œì˜ ë„ë©”ì¸(ì˜ˆ: `erp.mycompany.com`)ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´:

## Step 7-1. Amplifyì—ì„œ ë„ë©”ì¸ ì¶”ê°€

1. Amplify ì½˜ì†” â†’ ì•± ì„ íƒ
2. ì¢Œì¸¡ ë©”ë‰´ â†’ **"í˜¸ìŠ¤íŒ…" â†’ "ë„ë©”ì¸ ê´€ë¦¬"**
3. **"ë„ë©”ì¸ ì¶”ê°€"** í´ë¦­
4. ë„ë©”ì¸ ì…ë ¥ (ì˜ˆ: `mycompany.com`)
5. ì„œë¸Œë„ë©”ì¸ ì„¤ì • (ì˜ˆ: `erp.mycompany.com` â†’ main ë¸Œëœì¹˜)

## Step 7-2. DNS ì„¤ì •

Amplifyì—ì„œ ì œê³µí•˜ëŠ” CNAME ê°’ì„ DNSì— ë“±ë¡í•©ë‹ˆë‹¤.

**Route 53 ì‚¬ìš© ì‹œ:** Amplifyê°€ ìë™ìœ¼ë¡œ ì„¤ì •í•´ì¤ë‹ˆë‹¤.

**ì™¸ë¶€ DNS (ê°€ë¹„ì•„, Cloudflare ë“±) ì‚¬ìš© ì‹œ:**
```
íƒ€ì…:  CNAME
ì´ë¦„:  erp (ë˜ëŠ” ì›í•˜ëŠ” ì„œë¸Œë„ë©”ì¸)
ê°’:    d1abc2def3.cloudfront.net (Amplifyì—ì„œ ì œê³µí•˜ëŠ” ê°’)
```

> SSL ì¸ì¦ì„œëŠ” Amplifyê°€ ìë™ìœ¼ë¡œ ë°œê¸‰í•©ë‹ˆë‹¤ (ë¬´ë£Œ).

---

# ì „ì²´ ì²´í¬ë¦¬ìŠ¤íŠ¸

ì§„í–‰í•˜ë©´ì„œ í•˜ë‚˜ì”© ì²´í¬í•´ì£¼ì„¸ìš”:

```
PART 1: GitHub ì´ê´€
  [ ] ìƒˆ GitHub ê³„ì • ìƒì„±
  [ ] ë¹ˆ ì €ì¥ì†Œ ìƒì„± (README ì²´í¬ í•´ì œ)
  [ ] git remote ë³€ê²½ ë° Push
  [ ] ë¸Œë¼ìš°ì €ì—ì„œ ìƒˆ ì €ì¥ì†Œ í™•ì¸

PART 3: AWS RDS
  [ ] RDS PostgreSQL ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
  [ ] ë³´ì•ˆ ê·¸ë£¹ 5432 í¬íŠ¸ ê°œë°©
  [ ] ì—”ë“œí¬ì¸íŠ¸ ë©”ëª¨
  [ ] Prismaë¡œ í…Œì´ë¸” ìƒì„± (npx prisma db push)
  [ ] ì‹œë“œ ë°ì´í„° ì…ë ¥ (npx tsx prisma/seed.ts)

PART 4: AWS Amplify
  [ ] Amplify ì•± ìƒì„±
  [ ] GitHub ì €ì¥ì†Œ ì—°ê²°
  [ ] í™˜ê²½ ë³€ìˆ˜ 5ê°œ ì„¤ì •
  [ ] ì²« ë¹Œë“œ & ë°°í¬ ì„±ê³µ
  [ ] AUTH_URL ì‹¤ì œ URLë¡œ ì—…ë°ì´íŠ¸
  [ ] ì›¹ì‚¬ì´íŠ¸ ì ‘ì† & ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸

PART 5: CI/CD
  [ ] GitHub Secrets ì„¤ì •

PART 6: ì •ë¦¬
  [ ] Vercel í”„ë¡œì íŠ¸ ì‚­ì œ
  [ ] (ì„ íƒ) vercel.json ì‚­ì œ

PART 7: (ì„ íƒ) ì»¤ìŠ¤í…€ ë„ë©”ì¸
  [ ] Amplify ë„ë©”ì¸ ì¶”ê°€
  [ ] DNS ì„¤ì •
```

---

# ì°¸ê³ : ë¹„ìš© ì•ˆë‚´

## í”„ë¦¬ í‹°ì–´ (12ê°œì›” ë¬´ë£Œ)

| ì„œë¹„ìŠ¤ | í”„ë¦¬ í‹°ì–´ í•œë„ | ì´ˆê³¼ ì‹œ ì˜ˆìƒ ë¹„ìš© |
|--------|--------------|-----------------|
| RDS (db.t3.micro) | 750ì‹œê°„/ì›” | ~$15/ì›” |
| RDS ìŠ¤í† ë¦¬ì§€ | 20GB | $0.131/GB/ì›” |
| Amplify ë¹Œë“œ | 1,000ë¶„/ì›” | $0.01/ë¶„ |
| Amplify í˜¸ìŠ¤íŒ… | 15GB ì „ì†¡/ì›” | $0.15/GB |

> í”„ë¦¬ í‹°ì–´ 12ê°œì›”ì´ ì§€ë‚˜ë©´ RDS ë¹„ìš©ì´ ë°œìƒí•©ë‹ˆë‹¤.
> ì‚¬ìš©í•˜ì§€ ì•Šì„ ë•ŒëŠ” RDS ì¸ìŠ¤í„´ìŠ¤ë¥¼ "ì¤‘ì§€"í•˜ë©´ ë¹„ìš©ì„ ì ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> (RDS â†’ ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ â†’ ì‘ì—… â†’ ì¼ì‹œ ì¤‘ì§€)

---

# ì°¸ê³ : ì£¼ìš” ë³€ê²½ ì‚¬í•­ ìš”ì•½

| í•­ëª© | ì´ì „ (Vercel) | ì´í›„ (AWS) |
|------|-------------|-----------|
| í˜¸ìŠ¤íŒ… | Vercel | AWS Amplify |
| ë¦¬ì „ | icn1 (ì„œìš¸) | ap-northeast-2 (ì„œìš¸) |
| DB | Neon PostgreSQL | AWS RDS PostgreSQL |
| CI/CD | Vercel Git ì—°ë™ | Amplify Git ì—°ë™ + GitHub Actions |
| SSL | Vercel ìë™ | Amplify ìë™ |
| CDN | Vercel Edge | CloudFront (Amplify ë‚´ì¥) |
| ë¹„ìš© | Vercel ìš”ê¸ˆ | AWS í”„ë¦¬ í‹°ì–´ (12ê°œì›” ë¬´ë£Œ) |

---

# ë„ì›€ì´ í•„ìš”í•  ë•Œ

- **AWS ê³µì‹ ë¬¸ì„œ:** https://docs.aws.amazon.com/amplify/
- **Prisma ë¬¸ì„œ:** https://www.prisma.io/docs
- **Next.js on Amplify:** https://docs.aws.amazon.com/amplify/latest/userguide/ssr-nextjs.html
